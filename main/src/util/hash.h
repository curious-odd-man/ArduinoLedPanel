#ifndef HASH_H_
#define HASH_H_

#include <stdint.h>

static constexpr unsigned char T[256] = { 45, 89, 229, 63, 105, 187, 193, 14, 207, 74, 240, 170, 223, 172, 115, 38, 21, 86, 198, 81, 131, 227, 109, 211, 247,
                                          119, 44, 46, 18, 8, 55, 147, 43, 82, 50, 225, 216, 47, 212, 6, 4, 251, 19, 246, 56, 163, 90, 239, 161, 217, 111, 31,
                                          32, 41, 197, 196, 192, 70, 103, 221, 171, 157, 238, 252, 95, 78, 15, 76, 145, 203, 144, 136, 122, 7, 232, 200, 128,
                                          254, 154, 181, 77, 222, 25, 231, 182, 138, 230, 209, 175, 140, 116, 132, 213, 58, 85, 96, 1, 97, 155, 51, 130, 64, 12,
                                          94, 180, 127, 104, 235, 20, 57, 158, 54, 27, 102, 73, 224, 177, 141, 173, 2, 135, 220, 186, 208, 124, 178, 146, 195,
                                          139, 23, 112, 9, 100, 201, 243, 83, 126, 153, 87, 92, 17, 16, 123, 241, 35, 30, 148, 142, 152, 234, 199, 168, 125,
                                          107, 113, 151, 129, 204, 28, 149, 33, 120, 114, 62, 174, 164, 185, 49, 194, 121, 106, 52, 215, 248, 88, 61, 179, 98,
                                          0, 65, 242, 228, 37, 160, 249, 118, 11, 245, 13, 166, 253, 189, 108, 188, 244, 237, 42, 40, 162, 75, 60, 117, 93, 67,
                                          191, 205, 10, 71, 101, 5, 202, 22, 176, 34, 150, 26, 219, 210, 3, 134, 36, 48, 226, 156, 66, 24, 84, 206, 250, 214,
                                          133, 110, 183, 53, 79, 59, 39, 91, 165, 137, 72, 69, 80, 184, 143, 159, 169, 190, 29, 233, 236, 218, 167, 68, 99 };

static constexpr uint8_t getHashIntern(const char *data, int len) {
    return len == 1 ? data[0] : T[getHashIntern(data + 1, len - 1) ^ data[0]];
}

static constexpr uint8_t getHash(const char *data, int len) {
    return T[len % 256 ^ getHashIntern(data, len)];
}

#endif /* HASH_H_ */
